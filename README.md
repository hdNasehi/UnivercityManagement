# University Management Project

This is a **.NET 9 Web API project** using **Entity Framework Core** to manage Universities, Students, Teachers, and Lessons.

---

## Features

- Manage `University`, `Student`, `Teacher`, `Lesson` entities
- Many-to-many relationship between `Student` and `Lesson`
- EF Core code-first approach with migrations
- SQL Server support with `TrustServerCertificate=True`
- Safe cascade delete configuration to avoid SQL Server multiple cascade paths

---

## Prerequisites

- [.NET 9 SDK](https://dotnet.microsoft.com/download/dotnet/9.0)
- [Visual Studio 2022](https://visualstudio.microsoft.com/) or later
- SQL Server (local or remote)

---

## Getting Started

1. Clone the repository or download the code.
2. Open the project in **Visual Studio 2022**.
3. Restore NuGet packages:

```bash
dotnet restore
```

4. Configure your SQL Server connection string in `appsettings.json`:

```json
"ConnectionStrings": {
  "DefaultConnection": "Server=localhost;Database=UniversityDb;User Id=sa;Password=YourPassword;TrustServerCertificate=True;"
}
```

5. Create and apply migrations:

```bash
dotnet ef migrations add InitDb
dotnet ef database update
```

6. Run the project:

```bash
dotnet run
```

---

## Project Structure

```
UniversityManagement/
│
├─ Models/
│  ├─ University.cs
│  ├─ Student.cs
│  ├─ Teacher.cs
│  ├─ Lesson.cs
│  └─ StudentLesson.cs
│
├─ Data/
│  └─ UniversityDbContext.cs
│
├─ Migrations/   (generated by EF Core)
│
├─ Program.cs
├─ appsettings.json
├─ UniversityManagement.csproj
├─ README.md
└─ .gitignore
```

---

## Notes

- `StudentLesson` join table has cascade delete **disabled** to prevent multiple cascade path errors in SQL Server.
- EF Core migrations are committed to the repository to keep the database in sync with the model.
- Add controllers to implement CRUD operations for each entity.

---

## Author

Hadi
